<% if @file_url %>
  <h1>File Download</h1>
  <p>Here is your file:</p>

  <% if @file_type == 'image' %>
    <img src="<%= url_for(action: :serve_temp_file, file_path: @file_url) %>" alt="Telegram Image" style="max-width: 100%; height: auto;">
  <% elsif @file_type == 'video' %>
    <video controls style="max-width: 100%;">
      <source src="<%= url_for(action: :serve_temp_file, file_path: @file_url) %>" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  <% elsif @file_type == 'pdf' %>
    <iframe src="<%= url_for(action: :serve_temp_file, file_path: @file_url) %>" width="100%" height="600px"></iframe>
  <% elsif @file_type == 'document' %>
    <a href="<%= url_for(action: :serve_temp_file, file_path: @file_url) %>" target="_blank">Download Document</a>
  <% else %>
    <p>File type not supported for display. <a href="<%= url_for(action: :serve_temp_file, file_path: @file_url) %>" target="_blank">Download the file</a>.</p>
  <% end %>
<% else %>
  <p>No file found or an error occurred.</p>
<% end %>
