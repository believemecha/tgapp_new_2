c
params[:task_code]
params[:user_code]
params
c
params[:tg_task][:files]
params[:tg_task]
params
c
message
callback_query
c
update
    update = params['message'] || params['callback_query']
params['message']
update['callback_query']
update['message']
c
n
update = Telegram::Bot::Update.new(params)
  require 'telegram/bot'
update = Telegram::Bot::Update.new(params)
params
c
response[:photo]
response
return response[:video]&.file_id
response[:video]&.file_id
response[:video][:file_id]
response[:video]
response
c
file.content_type
c
file.content_type
c
file
c
n
c
n
      end
        end
          file_ids << file_id if file_id
          file_id = upload_file_to_telegram(task,file)
        if file.present?
      params[:task][:files].each do |file|
      end
        end
          file_ids << file_id if file_id
          file_id = upload_file_to_telegram(task,file)
        if file.present?
 params[:task][:files].each do |file|
    file_ids = []
params
